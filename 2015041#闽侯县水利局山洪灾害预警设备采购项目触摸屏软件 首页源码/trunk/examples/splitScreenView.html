<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>闽侯</title>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">


</head>
<body >

<div class="container-fluid pad-15 pad-b-0"  ms-controller="test" >
    <div ms-controller="splitScreenPart"   ms-include-src="{{splitScreenViewTpl}}">

    </div>
</div>


<script type="text/javascript" src="../av-modules/require.js" ></script>
<script type="text/javascript" src="../av-modules/require-helper.js"></script>

<script>
    //加载需要的插件名称
    require(["avalon","splitScreenView"],function(avalon,splitScreen){

        //avalonjs的初始化
        avalon.ready(function(){

            //定义一个Inf的vm
            var Inf=avalon.define({
                //绑定控制器的id
                $id:"test",
                //加载 html片段
                splitScreenViewTpl: require.toUrl('splitScreenView')+'.tpl',

                cloudFun:function(){//卫星云图
                    alert("卫星云图");
                },
                typhoonFun:function(){//台风路径
                    alert("台风路径");
                },
                weatherFun:function(){//气象雷达
                    alert("气象雷达");
                },
                rainFun:function(){//雨量
                    alert("雨量");
                }
            });

            //splitScreenView js的初始化
            var splitScreenView=splitScreen.init({
                clid:"splitScreenPart",
                data:{
                    cloud:"data/cloud.xml",//卫星云图
                    weather:"data/weather.xml",//气象雷达weather
                    rainTable:"data/rainTable.json",//雨量下面的 数据列表
                    rainTxt:"data/rainTxt.json",//雨量下面的 描述语句
                    rainLegend:"data/data.json",//雨量旁边的条形图
                    //  rainPic:"data/rainPic.json"//雨量等值面图
                    rainPic:" http://192.168.110.233:9995/RainfallIsoline/RainIsolineDataProvider.ashx?start=2014-1-1%2008:00&end=2014-1-1%2008:00&Isoline=true&IsolineArea=true"
                }
            });

            avalon.scan();

        });
    })
</script>

</body>
</html>  